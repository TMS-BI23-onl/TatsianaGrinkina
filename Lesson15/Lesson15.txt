1. --Для своей базы данных создайте объект для нахождения общего рейтинга топ 50 продавцов за всю историю продаж, 
--где рейтинг определяется количеством баллов за количество продаж в день 
--(10 и более продаж – 3 балла, 5-10 – 2 балла, меньше 5 – 1 балл). 

CREATE VIEW dbo.vBookStore
AS
SELECT TOP 50 WITH TIES Name, SUM(Rating) OVER (PARTITION BY Name) AS SumRating, 
ROW_NUMBER() OVER (PARTITION BY Name ORDER BY SaleDate) AS rnk
 FROM (SELECT e.Name, s.SaleDate, CASE WHEN COUNT(1) BETWEEN 0 AND 4 THEN 1
           WHEN COUNT(1) BETWEEN 5 AND 10 THEN 2
		   ELSE 3
		   END AS Rating
		 FROM dbo.FactSale s JOIN dbo.DimEmployee e ON s.EmployeeID=e.EmployeeID
GROUP BY e.Name, s.SaleDate) AS table_rnk
GROUP BY Name, SaleDate, Rating
ORDER BY rnk, SumRating DESC


SELECT *
FROM dbo.vBookStore



Изучите данные графики. Как можно улучшить каждый?
Пришлите ваши предложения (текстом, реализовывать не надо), а позже разберем на занятии.
a. в столбиковой диаграмме bar chart заменить коричневую и серую заливку на бесцветную
   разноцветную заливку столбиков заменить на цвета от светлого к темному
   удалить легенду
   удалить названия вертикальной и горизонтальной осей
   добавить цифры над столбиками
   название диаграммы поднять выше

b. переделать столбиковую диаграмму bar chart на топ 10 компаний,
   где по вертикали названия компаний, по горизонтали выручка
   по каждой компании показать выручку
   сделать другую заливку
   дать название столбиковой диаграмме
   либо создать круговую диаграмму pie chart,
   где будет отражен процент выручки топ 4 компаний и процент выручки остальных компаний

с. переделать на линейный график line chart по дням или месяцам с указанием количества посещений
   по горизонтали день недели или месяц года
   по вертикали количество посетителей
   указать количество посетителей на графике
   переименовать линейный график, убрать лишний текст в названии


 
